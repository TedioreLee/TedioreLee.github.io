<html>
<head>
  <meta charset="utf-8" />
<meta name="description" content="" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<meta name="robots" content="all,follow">
<meta name="googlebot" content="index,follow,snippet,archive">
<title>üåàÂ§ßÊï∞ÊçÆÂπ≥Âè∞ÂÖ®ÁîüÊÄÅÊê≠Âª∫ | ùíØùê∏ùíüùêºùí™ùëÖùê∏ùêøùê∏ùê∏</title>
<link rel="shortcut icon" href="https://iidx.xyz/favicon.ico?v=1569470386763">
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.1/css/all.css" integrity="sha384-50oBUHEmvpQ+1lW4y57PTFmhCaXp0ML5d60M1M7uH2+nqUivzIebhndOJK28anvf" crossorigin="anonymous">
<link rel="stylesheet" href="https://iidx.xyz/styles/main.css" type='text/css' media='all'>

<script src="https://cdn.bootcss.com/highlight.js/9.12.0/highlight.min.js"></script>
<script src="https://cdn.bootcss.com/moment.js/2.23.0/moment.min.js"></script>




</head>
<body class="home blog ct-body standard">
<div id="overflow-container" class="overflow-container">
  <a class="skip-content" href="#main">Skip to content</a>
  <header id="site-header" class="site-header" role="banner">
    <div class='top-navigation top-navigation-important'>
        <div class='container'>
            <div id="menu-secondary" class="menu-container menu-secondary" role="navigation">
                <button id="toggle-secondary-navigation" class="toggle-secondary-navigation"><i class="fa fa-plus"></i></button>
                <div class="menu">
                    <ul id="menu-secondary-items" class="menu-secondary-items">
                        
                        
                            
                        <li id="menu-item" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item">
                            <a href="https://iidx.xyz/tag/2ec75jeIG">Other</a>
                        </li>
                            
                        
                            
                        <li id="menu-item" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item">
                            <a href="https://iidx.xyz/tag/NluVhaZaE">V2ray</a>
                        </li>
                            
                        
                            
                        <li id="menu-item" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item">
                            <a href="https://iidx.xyz/tag/f7tGobuX0">Office365</a>
                        </li>
                            
                        
                            
                        <li id="menu-item" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item">
                            <a href="https://iidx.xyz/tag/FRQBgPRT2">Docker</a>
                        </li>
                            
                        
                            
                        <li id="menu-item" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item">
                            <a href="https://iidx.xyz/tag/vsYNOwC5t">Tech</a>
                        </li>
                            
                        
                            
                        <li id="menu-item" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item">
                            <a href="https://iidx.xyz/tag/x6J1TFbCJ">Azure</a>
                        </li>
                            
                        
                            
                        <li id="menu-item" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item">
                            <a href="https://iidx.xyz/tag/aXetfket7">Windows</a>
                        </li>
                            
                        
                            
                        
                            
                        
                            
                        
                            
                        
                    </ul>
                </div>
            </div>
            <ul class="social-media-icons">
                
                    
                        <li>
                            <a href="https://github.com/tediorelee" data-animate-hover="pulse" class="github" target="_blank">
                                <i class="fab fa-github" title="github"></i>
                                <span class="screen-reader-text">github</span>
                            </a>
                        </li>
                    
                
                    
                        <li>
                            <a href="https://twitter.com/ted1ore_lee" data-animate-hover="pulse" class="twitter" target="_blank">
                                <i class="fab fa-twitter" title="twitter"></i>
                                <span class="screen-reader-text">twitter</span>
                            </a>
                        </li>
                    
                
                    
                        <li>
                            <a href="http://weibo.com/u/3200965454" data-animate-hover="pulse" class="weibo" target="_blank">
                                <i class="fab fa-weibo" title="weibo"></i>
                                <span class="screen-reader-text">weibo</span>
                            </a>
                        </li>
                    
                
                    
                        <li>
                            <a href="https://www.zhihu.com/people/tediorelee-10/activities" data-animate-hover="pulse" class="zhihu" target="_blank">
                                <i class="fab fa-zhihu" title="zhihu"></i>
                                <span class="screen-reader-text">zhihu</span>
                            </a>
                        </li>
                    
                
                    
                
                    
                
                    
                
            </ul>
        </div>
    </div>

    <div class="container">
        <div id="title-info" class="title-info">
            <div id='site-title' class='site-title'>
                <a href="https://iidx.xyz">  ùíØùê∏ùíüùêºùí™ùëÖùê∏ùêøùê∏ùê∏ </a>
            </div>
        </div>
        <button id="toggle-navigation" class="toggle-navigation">
            <i class="fa fa-bars"></i>
        </button>
        <div id="menu-primary-tracks" class="menu-primary-tracks"></div>
        <div id="menu-primary" class="menu-container menu-primary" role="navigation">
            <p class="site-description">‚Äú è·¥è·¥ú' Ä·¥á ·¥ä·¥úÍú±·¥õ ·¥Ä Íú±·¥Ä·¥Ö Íú±·¥è…¥…¢ ·¥°…™·¥õ ú …¥·¥è·¥õ ú…™…¥…¢ ·¥õ·¥è Íú±·¥Ä è‚Äù</p>
            <div class="menu">
                <ul id="menu-primary-items" class="menu-primary-items">
                     
                        
                            <li id="menu-item" class='menu-item menu-item-type-post_type menu-item-object-page current-menu-item current_page_item'>
                                <a href="https://iidx.xyz">Home</a>
                            </li>
                        
                    
                        
                            <li id="menu-item" class='menu-item menu-item-type-post_type menu-item-object-page current-menu-item current_page_item'>
                                <a href="/archives">Archive</a>
                            </li>
                        
                    
                        
                            <li id="menu-item" class='menu-item menu-item-type-post_type menu-item-object-page current-menu-item current_page_item'>
                                <a href="/post/about">About</a>
                            </li>
                        
                    
                        
                            <li id="menu-item" class='menu-item menu-item-type-post_type menu-item-object-page current-menu-item current_page_item'>
                                <a href="/post/friendlink">Friendlink</a>
                            </li>
                        
                    
                        
                            <li id="menu-item" class='menu-item menu-item-type-post_type menu-item-object-page current-menu-item current_page_item'>
                                <a href="https://one.iidx.xyz" target="_blank">OneDrive</a>
                            </li>
                        
                    
                        
                            <li id="menu-item" class='menu-item menu-item-type-post_type menu-item-object-page current-menu-item current_page_item'>
                                <a href="http://bt.iidx.xyz" target="_blank">qBittorrent</a>
                            </li>
                        
                    
                </ul>
            </div>
        </div>
    </div>


</header>

  <div id="main" class="main" role="main">
    <div id="loop-container" class="loop-container">
      <div class="post type-post status-publish format-standard has-post-thumbnail hentry category-design tag-design tag-standard-2 tag-tagalicious tag-travel entry full-without-featured odd excerpt-1">
        
          <div class='featured-image lazy lazy-bg-image' data-background="https://tediorelee-1257666331.cos.ap-chengdu.myqcloud.com/Gridea/20190517135603.png">
          </div>
        

        <div class="entry-meta">
          <span class="date">¬∑ 2019-04-15 ¬∑</span> <span> / </span>
          <span class="author">
            <a href="https://iidx.xyz" title="" rel="author"> Powered by <a href="https://github.com/getgridea/gridea" target="_blank">Gridea</a> Published by <a href="https://tediorelee.cn">tediorelee</a> <a href="http://www.miitbeian.gov.cn">ËúÄICPÂ§á18031601Âè∑</a></a>
          </span>
          
            <span class="category">
                    <span> / </span>
                    <a href="https://iidx.xyz/tag/sYpHDKKCm">Bigdata</a>
                </span>
          
        </div>
        <div class='entry-header'>
          <h1 class='entry-title'>üåàÂ§ßÊï∞ÊçÆÂπ≥Âè∞ÂÖ®ÁîüÊÄÅÊê≠Âª∫</h1>
        </div>
        <div class="entry-container">
          <div class="entry-content">
            <article>
              <blockquote>
<p>For Graduation Papers</p>
</blockquote>
<!--more-->
<h2 id="ÂÆâË£ÖËôöÊãüÊú∫">ÂÆâË£ÖËôöÊãüÊú∫</h2>
<p>VMWAREÂÆâË£Öubuntu-server16.04ÔºåÊ≠•È™§Áï•Ëøá</p>
<h3 id="‰øÆÊîπubuntuÁöÑrootÁî®Êà∑Âêç">‰øÆÊîπUbuntuÁöÑrootÁî®Êà∑Âêç</h3>
<p>ËæìÂÖ•<code>sudo passwd root</code>ÔºåÈîÆÂÖ•‰Ω†ÁöÑÊú¨Âú∞Áî®Êà∑ÂØÜÁ†ÅÔºåÈöèÂêéÊõ¥Êñ∞‰Ω†ÁöÑrootÁî®Êà∑ÂØÜÁ†Å</p>
<figure data-type="image" tabindex="1"><img src="https://i.loli.net/2019/04/09/5cac09d65105c.png" alt=""></figure>
<p>‰ΩøÁî®<code>su root</code>Âç≥ÂèØÂàáÊç¢Âà∞rootÁî®Êà∑‰∏ã</p>
<h3 id="ÈÖçÁΩÆÈùôÊÄÅip">ÈÖçÁΩÆÈùôÊÄÅIP</h3>
<p>‰ΩøÁî®rootË∫´‰ªΩÁºñËæë<code>/etc/network/interface</code>‰∏ãÁöÑ<code>eth0</code>ÁΩëÂç°</p>
<figure data-type="image" tabindex="2"><img src="https://i.loli.net/2019/04/09/5cac09fa5c64a.png" alt=""></figure>
<p>‰ª•ÊàëÊú¨Âú∞ÁΩëÂÖ≥‰∏∫<code>192.168.6.1</code>‰∏∫‰æãÔºåÂ∞ÜËôöÊãüÊú∫IPÂÆö‰∏∫<code>192.168.6.22</code>ÔºåDNSÂ°´‰∏äÊú¨Âú∞Áîµ‰ø°ÁöÑDNS</p>
<figure data-type="image" tabindex="3"><img src="https://i.loli.net/2019/04/09/5cac0a317d82e.png" alt=""></figure>
<p>‰øùÂ≠òÈÄÄÂá∫Ôºå‰ΩøÁî®ÂëΩ‰ª§<code>ifdown eth0</code>Âç∏ËΩΩÁΩëÂç°ÔºåÂÜç‰ΩøÁî®ÂëΩ‰ª§<code>ifup eth0</code>ÈáçÊñ∞ÂêØÁî®ÁΩëÂç°Âç≥ÂèØ‰Ωø‰øÆÊîπÁîüÊïà„ÄÇ</p>
<figure data-type="image" tabindex="4"><img src="https://i.loli.net/2019/04/09/5cac0a50a0bda.png" alt=""></figure>
<p>ËøôÊó∂ÂÄôÂÜçÁî®<code>ifconfig</code>Êü•ÁúãÁΩëÂç°ÈÖçÁΩÆÂç≥ÂèØÁúãÂà∞‰øÆÊîπÊàêÂäü„ÄÇ</p>
<figure data-type="image" tabindex="5"><img src="https://i.loli.net/2019/04/09/5cac0a6827f6d.png" alt=""></figure>
<h3 id="ÈÖçÁΩÆsshÁôªÂΩï">ÈÖçÁΩÆSSHÁôªÂΩï</h3>
<p>rootÁî®Êà∑‰∏ãÔºå‰ΩøÁî®ÂëΩ‰ª§<code>apt-get install ssh</code></p>
<p>Á≠âÂæÖÂÆâË£ÖÂÆåÊàêÂç≥ÂèØ</p>
<p>vimÁºñËæë<code>etc/ssh/sshd_config</code></p>
<p>ÊâæÂà∞<code>PermitRootLogin</code>Â≠óÊÆµ,‰øÆÊîπ‰∏∫<code>yes</code></p>
<p>‰øùÂ≠òÈÄÄÂá∫</p>
<figure data-type="image" tabindex="6"><img src="https://i.loli.net/2019/04/09/5cac0a84c7cb6.png" alt=""></figure>
<p><code>service ssh restart</code>ÈáçÂêØsshÊúçÂä°</p>
<figure data-type="image" tabindex="7"><img src="https://i.loli.net/2019/04/09/5cac0adf0c397.png" alt=""></figure>
<p>‰ΩøÁî®sshÂ∑•ÂÖ∑Âç≥ÂèØËøûÊé•</p>
<figure data-type="image" tabindex="8"><img src="https://i.loli.net/2019/04/09/5cac0af8412f6.png" alt=""></figure>
<h3 id="‰øÆÊîπËΩØ‰ª∂Ê∫ê">‰øÆÊîπËΩØ‰ª∂Ê∫ê</h3>
<p>ÊâæÂà∞<a href="https://opsx.alibaba.com/mirror">ÈòøÈáåÂ∑¥Â∑¥ÂºÄÊ∫êÈïúÂÉèÁ´ô</a>ÈáåÈù¢ÁöÑUbuntuÔºåÁÇπÂáªÂêéÈù¢ÁöÑÂ∏ÆÂä©</p>
<figure data-type="image" tabindex="9"><img src="https://i.loli.net/2019/04/09/5cac0b1822858.png" alt=""></figure>
<p>ÈÄâÊã©‰Ω†ÂØπÂ∫îÁöÑUbuntuÁâàÊú¨ÔºåÂ§çÂà∂ËΩØ‰ª∂Ê∫ê‰ø°ÊÅØÔºåÁ≤òË¥¥Âà∞<code>/etc/apt/sources.list</code>Èáå</p>
<figure data-type="image" tabindex="10"><img src="https://i.loli.net/2019/04/09/5cac0b334dfb8.png" alt=""></figure>
<p>‰øùÂ≠òÈÄÄÂá∫Âç≥ÂèØÔºå‰πãÂêéÊàë‰ª¨ÂèØ‰ª•<code>apt-get update</code>‰∏Ä‰∏ãÔºåÈáçÊñ∞Êõ¥Êñ∞‰∏Ä‰∏ãËΩØ‰ª∂Ê∫ê</p>
<figure data-type="image" tabindex="11"><img src="https://i.loli.net/2019/04/09/5cac0b4e08e03.png" alt=""></figure>
<h2 id="ÂÆâË£Öjdk">ÂÆâË£ÖJDK</h2>
<p>Êñ∞Âª∫<code>mkdir /usr/local/jdk</code>Êñá‰ª∂Â§π</p>
<p>‰ΩøÁî®WinscpÂ∑•ÂÖ∑‰∏ä‰º†jdkÂåÖÂà∞<code>/usr/local</code>Êñá‰ª∂Â§πÈáå</p>
<p><code>tar -zxvf jdkxxx.tar.gz</code>Ëß£ÂéãÁº©</p>
<figure data-type="image" tabindex="12"><img src="https://i.loli.net/2019/04/09/5cac0b81b3c31.png" alt=""></figure>
<p>Ê∑ªÂä†jdkÁöÑÁéØÂ¢ÉÂèòÈáè</p>
<p>ÊâìÂºÄÊñá‰ª∂<code>vim /etc/profile</code>Âú®Êú´Â∞æÂä†‰∏ä</p>
<figure data-type="image" tabindex="13"><img src="https://i.loli.net/2019/04/09/5cac0b9bda116.png" alt=""></figure>
<pre><code>export JAVA_HOME=/usr/local/jdk/jdk1.8.0_201
export CLASSPATH=.:$JAVA_HOME/jre/lib/rt.jar:$JAVA_HOME/lib/dt.ja$JAVA_HOME/lib/tools.jar
export PATH=$PATH:$JAVA_HOME/bin
</code></pre>
<p>‰øùÂ≠òÂπ∂ÈÄÄÂá∫Ôºå<code>source /etc/profile</code>‰ΩøÂÖ∂ÁîüÊïà<br>
ËøôÊó∂ËæìÂÖ•<code>java -version</code>Âç≥ÂèØÊü•ÁúãÂà∞ÁâàÊú¨‰ø°ÊÅØË°®Á§∫jdkÂÆâË£ÖÊàêÂäü</p>
<figure data-type="image" tabindex="14"><img src="https://i.loli.net/2019/04/09/5cac0bb5f34c7.png" alt=""></figure>
<h2 id="ÈÖçÁΩÆsshÂÖçÂØÜÁôªÂΩï">ÈÖçÁΩÆSSHÂÖçÂØÜÁôªÂΩï</h2>
<p>ËøôÈáåÁöÑ‰∏ªÊú∫ÂêçÊàëÂÆö‰πâ‰∏∫<strong>master</strong></p>
<p>‰øÆÊîπ<code>/etc/hosts</code>ÔºåÊää<strong>master</strong>ÁöÑipÂú∞ÂùÄ‰øÆÊîπ‰∏∫<code>127.0.0.1</code>Ôºå‰øùÂ≠òÈÄÄÂá∫</p>
<figure data-type="image" tabindex="15"><img src="https://i.loli.net/2019/04/09/5cac0bfa8d0b9.png" alt=""></figure>
<p>ËøõÂÖ•<code>.ssh</code>Êñá‰ª∂Â§πÔºåÂà†Èô§ÂéüÊúâÂ§ö‰ΩôÁöÑÂÖ¨Èí•ÂíåÁßÅÈí•</p>
<p><code>ssh-keygen</code>ÁîüÊàêÊñ∞ÁöÑsshÂØÜÈí•Ôºå‰∏ÄË∑ØÂõûËΩ¶Á°ÆÂÆö</p>
<figure data-type="image" tabindex="16"><img src="https://i.loli.net/2019/04/09/5cac0c19d61be.png" alt=""></figure>
<p>Â∞ÜÂÖ¨Èí•Â§çÂà∂Âà∞<strong>authorized_keys</strong>ÈáåÈù¢</p>
<pre><code>cat id_rsa.pub &gt;&gt; ~/.ssh/authorized_keys
</code></pre>
<figure data-type="image" tabindex="17"><img src="https://i.loli.net/2019/04/09/5cac0c30f1d03.png" alt=""></figure>
<p>ÊµãËØïÁôªÂΩïÔºå<code>ssh master</code></p>
<figure data-type="image" tabindex="18"><img src="https://i.loli.net/2019/04/09/5cac0c4669e8c.png" alt=""></figure>
<p>ÊàêÂäüÂÆûÁé∞sshÂÖçÂØÜÁôªÂΩï</p>
<h2 id="ÂÆâË£Öhadoop">ÂÆâË£ÖHadoop</h2>
<h3 id="‰ªãÁªç">‰ªãÁªç</h3>
<blockquote>
<p>HadoopÊòØ‰∏Ä‰∏™Áî±ApacheÂü∫Èáë‰ºöÊâÄÂºÄÂèëÁöÑÂàÜÂ∏ÉÂºèÁ≥ªÁªüÂü∫Á°ÄÊû∂ÊûÑ„ÄÇHadoopÁöÑÊ°ÜÊû∂ÊúÄÊ†∏ÂøÉÁöÑËÆæËÆ°Â∞±ÊòØÔºöHDFSÂíåMapReduce„ÄÇHDFS‰∏∫Êµ∑ÈáèÁöÑÊï∞ÊçÆÊèê‰æõ‰∫ÜÂ≠òÂÇ®ÔºåËÄåMapReduceÂàô‰∏∫Êµ∑ÈáèÁöÑÊï∞ÊçÆÊèê‰æõ‰∫ÜËÆ°ÁÆó„ÄÇ</p>
<p>HDFSÔºåHadoop Distributed File SystemÔºåÊòØ‰∏Ä‰∏™ÂàÜÂ∏ÉÂºèÊñá‰ª∂Á≥ªÁªüÔºåÁî®Êù•Â≠òÂÇ® Hadoop ÈõÜÁæ§‰∏≠ÊâÄÊúâÂ≠òÂÇ®ËäÇÁÇπ‰∏äÁöÑÊñá‰ª∂ÔºåÂåÖÂê´‰∏Ä‰∏™ NameNode ÂíåÂ§ßÈáè DataNode„ÄÇNameNodeÔºåÂÆÉÂú® HDFS ÂÜÖÈÉ®Êèê‰æõÂÖÉÊï∞ÊçÆÊúçÂä°ÔºåË¥üË¥£ÁÆ°ÁêÜÊñá‰ª∂Á≥ªÁªüÂêçÁß∞Á©∫Èó¥ÂíåÊéßÂà∂Â§ñÈÉ®ÂÆ¢Êà∑Êú∫ÁöÑËÆøÈóÆÔºåÂÜ≥ÂÆöÊòØÂê¶Â∞ÜÊñá‰ª∂Êò†Â∞ÑÂà∞ DataNode ‰∏ä„ÄÇDataNodeÔºåÂÆÉ‰∏∫ HDFS Êèê‰æõÂ≠òÂÇ®ÂùóÔºåÂìçÂ∫îÊù•Ëá™ HDFS ÂÆ¢Êà∑Êú∫ÁöÑËØªÂÜôËØ∑Ê±Ç„ÄÇ</p>
<p>MapReduceÊòØ‰∏ÄÁßçÁºñÁ®ãÊ®°ÂûãÔºåÁî®‰∫éÂ§ßËßÑÊ®°Êï∞ÊçÆÈõÜÁöÑÂπ∂Ë°åËøêÁÆó„ÄÇÊ¶ÇÂøµ&quot;MapÔºàÊò†Â∞ÑÔºâ‚ÄúÂíå&quot;ReduceÔºàÂΩíÁ∫¶Ôºâ‚ÄùÔºåÊòØÂÆÉ‰ª¨ÁöÑ‰∏ªË¶ÅÊÄùÊÉ≥ÔºåÂç≥ÊåáÂÆö‰∏Ä‰∏™MapÔºàÊò†Â∞ÑÔºâÂáΩÊï∞ÔºåÁî®Êù•Êää‰∏ÄÁªÑÈîÆÂÄºÂØπÊò†Â∞ÑÊàê‰∏ÄÁªÑÊñ∞ÁöÑÈîÆÂÄºÂØπÔºåÊåáÂÆöÂπ∂ÂèëÁöÑReduceÔºàÂΩíÁ∫¶ÔºâÂáΩÊï∞ÔºåÁî®Êù•‰øùËØÅÊâÄÊúâÊò†Â∞ÑÁöÑÈîÆÂÄºÂØπ‰∏≠ÁöÑÊØè‰∏Ä‰∏™ÂÖ±‰∫´Áõ∏ÂêåÁöÑÈîÆÁªÑ„ÄÇ</p>
</blockquote>
<p>Âú®<code>/usr/local</code>‰∏≠Êñ∞Âª∫<code>hadoop</code>Êñá‰ª∂Â§πÔºå‰ΩøÁî®winscp‰∏ä‰º†hadoopÂÆâË£ÖÂåÖ</p>
<p>Ëß£ÂéãÁº©hadoop<code>tar -zxvf hadoop-2.6.4.tar.gz</code></p>
<figure data-type="image" tabindex="19"><img src="https://i.loli.net/2019/04/09/5cac0c7feff1e.png" alt=""></figure>
<h3 id="ÈÖçÁΩÆÁéØÂ¢ÉÂèòÈáè">ÈÖçÁΩÆÁéØÂ¢ÉÂèòÈáè</h3>
<p><code>vim /etc/profile</code>ÔºåÂêéÈù¢Âä†‰∏ä</p>
<pre><code>export HADOOP_HOME=/usr/local/hadoop/hadoop-2.7.7
export HADOOP_CONF_DIR=$HADOOP_HOME/etc/hadoop
export
CLASSPATH=.:$JAVA_HOME/jre/lib/rt.jar:$JAVA_HOME/lib/dt.jar:$JAVA_HOME/lib/tools.jar
export PATH=$PATH:$JAVA_HOME/bin:$HADOOP_HOME/bin:$HADOOP_HOME/sbin
</code></pre>
<figure data-type="image" tabindex="20"><img src="https://i.loli.net/2019/04/09/5cac0c9793d5c.png" alt=""></figure>
<p><code>source /etc/profile</code>‰ΩøÂÖ∂ÁîüÊïà</p>
<p>ÁºñËæë<code>hadoop-env.sh„ÄÅmapred-env.sh„ÄÅyarn-env.sh</code>Êñá‰ª∂Ôºå‰øÆÊîπ<code>JAVA_HOME</code>ÂèÇÊï∞‰∏∫</p>
<pre><code>export JAVA_HOME=&quot;/usr/local/jdk&quot;
</code></pre>
<figure data-type="image" tabindex="21"><img src="https://i.loli.net/2019/04/09/5cac0cae3f607.png" alt=""></figure>
<h3 id="ÈÖçÁΩÆcore-sitexml">ÈÖçÁΩÆcore-site.xml</h3>
<p><code>vim {HADOOP_HOME}/etc/hadoop/core-site.xml</code></p>
<p>‰øÆÊîπ‰∏∫Ôºö</p>
<pre><code>&lt;configuration&gt;
	&lt;property&gt;
&lt;name&gt;fs.defaultFS&lt;/name&gt;
&lt;value&gt;hdfs://localhost:9000&lt;/value&gt;
	&lt;/property&gt;
	&lt;property&gt;
   &lt;name&gt;hadoop.tmp.dir&lt;/name&gt;
    &lt;value&gt;/usr/local/data&lt;/value&gt;
	&lt;/property&gt;
&lt;/configuration&gt;
</code></pre>
<figure data-type="image" tabindex="22"><img src="https://i.loli.net/2019/04/09/5cac0cc6079e4.png" alt=""></figure>
<p><strong>Ê≥®ÊÑè</strong>ÔºöËøôÈáåÁöÑ<code>hadoop.tmp.dir</code>‰øÆÊîπ‰∏∫Ëá™Â∑±ÂàõÂª∫ÁöÑ‰∏¥Êó∂Êñá‰ª∂Â≠òÊîæÁõÆÂΩï</p>
<h3 id="ÈÖçÁΩÆhdfs-sitexml">ÈÖçÁΩÆhdfs-site.xml</h3>
<p><code>vim ${HADOOP_HOME}/etc/hadoop/hdfs-site.xml</code></p>
<p>‰øÆÊîπ‰∏∫Ôºö</p>
<pre><code>&lt;configuration&gt;
&lt;property&gt;
  &lt;name&gt;dfs.name.dir&lt;/name&gt;
  &lt;value&gt;/usr/local/data/namenode&lt;/value&gt;
&lt;/property&gt;
&lt;property&gt;
  &lt;name&gt;dfs.data.dir&lt;/name&gt;
  &lt;value&gt;/usr/local/data/datanode&lt;/value&gt;
&lt;/property&gt;
&lt;property&gt;
  &lt;name&gt;dfs.replication&lt;/name&gt;
  &lt;value&gt;1&lt;/value&gt;
&lt;/property&gt;
&lt;/configuration&gt;
</code></pre>
<figure data-type="image" tabindex="23"><img src="https://i.loli.net/2019/04/09/5cac0d1732149.png" alt=""></figure>
<p><strong>Ê≥®ÊÑè</strong>ÔºöÂõ†‰∏∫ËøôÈáåÊòØ‰º™ÂàÜÂ∏ÉÂºèÁéØÂ¢ÉÂè™Êúâ‰∏Ä‰∏™ËäÇÁÇπÔºåÊâÄ‰ª•ËøôÈáåËÆæÁΩÆ‰∏∫1</p>
<h3 id="ÈÖçÁΩÆmapred-sitexml">ÈÖçÁΩÆmapred-site.xml</h3>
<p>‰øÆÊîπÊñá‰ª∂Âêç</p>
<p><code>cp mapred-site.xml.template mapred-site.xml</code></p>
<p><code>vim ${HADOOP_HOME}/etc/hadoop/mapred-site.xml</code></p>
<pre><code>&lt;configuration&gt;
&lt;property&gt;
  &lt;name&gt;mapreduce.framework.name&lt;/name&gt;
  &lt;value&gt;yarn&lt;/value&gt;
&lt;/property&gt;
&lt;/configuration&gt;
</code></pre>
<figure data-type="image" tabindex="24"><img src="https://i.loli.net/2019/04/09/5cac0d8a7317a.png" alt=""></figure>
<h3 id="ÈÖçÁΩÆyarn-sitexml">ÈÖçÁΩÆyarn-site.xml</h3>
<p><code>vim ${HADOOP_HOME}/etc/hadoop/yarn-site.xml</code></p>
<pre><code>&lt;configuration&gt;
&lt;!-- Site specific YARN configuration properties --&gt;
&lt;property&gt;
  &lt;name&gt;yarn.resourcemanager.hostname&lt;/name&gt;
  &lt;value&gt;master&lt;/value&gt;
&lt;/property&gt;
&lt;property&gt;
  &lt;name&gt;yarn.nodemanager.aux-services&lt;/name&gt;              
  &lt;value&gt;mapreduce_shuffle&lt;/value&gt;     
&lt;/property&gt;
&lt;/configuration&gt;
</code></pre>
<figure data-type="image" tabindex="25"><img src="https://i.loli.net/2019/04/09/5cac136863441.png" alt=""></figure>
<h3 id="ÊµãËØï">ÊµãËØï</h3>
<ul>
<li>Ê†ºÂºèÂåñhdfs</li>
</ul>
<p><code>hdfs namenode ‚Äìformat</code></p>
<figure data-type="image" tabindex="26"><img src="https://i.loli.net/2019/04/09/5cac137f2dba0.png" alt=""></figure>
<ul>
<li>ÂêØÂä®hdfs</li>
</ul>
<pre><code>root@bigdata-platform:/usr/local# cd /usr/local/hadoop/hadoop-2.7.7/
root@bigdata-platform:/usr/local/hadoop/hadoop-2.7.7# sbin/start-dfs.sh

</code></pre>
<figure data-type="image" tabindex="27"><img src="https://i.loli.net/2019/04/09/5cac158d47114.png" alt=""></figure>
<ul>
<li>ÂêØÂä®yarn</li>
</ul>
<pre><code>root@bigdata-platform:/usr/local/hadoop/hadoop-2.7.7# sbin/start-yarn.sh

</code></pre>
<figure data-type="image" tabindex="28"><img src="https://i.loli.net/2019/04/09/5cac15b8ab4c8.png" alt=""></figure>
<ul>
<li>jpsÊü•Áúã</li>
</ul>
<figure data-type="image" tabindex="29"><img src="https://i.loli.net/2019/04/09/5cac15cbbd1d1.png" alt=""></figure>
<p>ÂèØ‰ª•ÁúãÂà∞ÊâÄÊúâËäÇÁÇπÈÉΩÂêØÂä®ÊàêÂäüÔºåÊâìÂºÄ<code>http://192.168.6.22:50070</code>ÂèØ‰ª•Êü•ÁúãÂèØËßÜÂåñÈ°µÈù¢„ÄÇ</p>
<figure data-type="image" tabindex="30"><img src="https://i.loli.net/2019/04/09/5cac15f1f0b6a.png" alt=""></figure>
<p>Âà∞Ê≠§‰∏∫Ê≠¢ÔºåHADOOPÁöÑÂÆâË£ÖÂ∞±ÂÆåÊàê‰∫Ü„ÄÇ</p>
<h2 id="ÂÆâË£Öhive">ÂÆâË£ÖHive</h2>
<h3 id="‰ªãÁªç-2">‰ªãÁªç</h3>
<blockquote>
<p>HiveÊòØÂü∫‰∫éHadoopÁöÑ‰∏Ä‰∏™Êï∞ÊçÆ‰ªìÂ∫ìÂ∑•ÂÖ∑ÔºåÂèØ‰ª•Â∞ÜÁªìÊûÑÂåñÁöÑÊï∞ÊçÆÊñá‰ª∂Êò†Â∞Ñ‰∏∫‰∏ÄÂº†Êï∞ÊçÆÂ∫ìË°®ÔºåÂπ∂Êèê‰æõÁÆÄÂçïÁöÑsqlÊü•ËØ¢ÂäüËÉΩÔºåÂèØ‰ª•Â∞ÜsqlËØ≠Âè•ËΩ¨Êç¢‰∏∫MapReduce‰ªªÂä°ËøõË°åËøêË°å„ÄÇ ÂÖ∂‰ºòÁÇπÊòØÂ≠¶‰π†ÊàêÊú¨‰ΩéÔºåÂèØ‰ª•ÈÄöËøáÂíåSQLÁ±ª‰ººÁöÑHiveQLËØ≠Ë®ÄÂø´ÈÄüÂÆûÁé∞ÁÆÄÂçïÁöÑMapReduceÁªüËÆ°,‰∏çÂøÖÂºÄÂèë‰∏ìÈó®ÁöÑMapReduceÂ∫îÁî®ÔºåÂçÅÂàÜÈÄÇÂêàÊï∞ÊçÆ‰ªìÂ∫ìÁöÑÁªüËÆ°ÂàÜÊûê„ÄÇÂêåÊó∂ÔºåËøô‰∏™ËØ≠Ë®Ä‰πüÂÖÅËÆ∏ÁÜüÊÇâ MapReduce ÂºÄÂèëËÄÖÁöÑÂºÄÂèëËá™ÂÆö‰πâÁöÑ mapper Âíå reducer Êù•Â§ÑÁêÜÂÜÖÂª∫ÁöÑ mapper Âíå reducer Êó†Ê≥ïÂÆåÊàêÁöÑÂ§çÊùÇÁöÑÂàÜÊûêÂ∑•‰Ωú„ÄÇ</p>
<p>Hive Ê≤°Êúâ‰∏ìÈó®ÁöÑÊï∞ÊçÆÊ†ºÂºè„ÄÇÊâÄÊúâHive ÁöÑÊï∞ÊçÆÈÉΩÂ≠òÂÇ®Âú®HadoopÂÖºÂÆπÁöÑÊñá‰ª∂Á≥ªÁªüÔºà‰æãÂ¶ÇHDFSÔºâ‰∏≠„ÄÇHive Âú®Âä†ËΩΩÊï∞ÊçÆËøáÁ®ã‰∏≠‰∏ç‰ºöÂØπÊï∞ÊçÆËøõË°å‰ªª‰ΩïÁöÑ‰øÆÊîπÔºåÂè™ÊòØÂ∞ÜÊï∞ÊçÆÁßªÂä®Âà∞HDFS‰∏≠Hive ËÆæÂÆöÁöÑÁõÆÂΩï‰∏ãÔºåÂõ†Ê≠§ÔºåHive ‰∏çÊîØÊåÅÂØπÊï∞ÊçÆÁöÑÊîπÂÜôÂíåÊ∑ªÂä†ÔºåÊâÄÊúâÁöÑÊï∞ÊçÆÈÉΩÊòØÂú®Âä†ËΩΩÁöÑÊó∂ÂÄôÁ°ÆÂÆöÁöÑ„ÄÇ</p>
</blockquote>
<h3 id="ÁéØÂ¢ÉÈÖçÁΩÆ">ÁéØÂ¢ÉÈÖçÁΩÆ</h3>
<p><strong>Ê≥®ÊÑè</strong>ÔºöHiveÂè™ÈúÄË¶ÅÂú®masterËäÇÁÇπ‰∏äÂÆâË£ÖÈÖçÁΩÆ</p>
<p>Âú®<code>usr/local</code>‰∏ãÊñ∞Âª∫hiveÊñá‰ª∂Â§πÔºå‰ΩøÁî®winscp‰∏ä‰º†hiveÂÆâË£ÖÂåÖ</p>
<p><code>cd /usr/local/hive</code>ËøõÂÖ•hiveÊñá‰ª∂Â§πÔºå‰ΩøÁî®<code>tar -zxvf apache-hive-2.3.4-bin.tar.gz</code>Ëß£Âéã</p>
<figure data-type="image" tabindex="31"><img src="https://i.loli.net/2019/04/09/5cac1627b07ab.png" alt=""></figure>
<p><strong>Ê∑ªÂä†HiveÁéØÂ¢ÉÂèòÈáè</strong></p>
<p>Âú®<code>etc/profile</code>‰∏≠ÔºåÊ∑ªÂä†</p>
<pre><code>export JAVA_HOME=/usr/local/java/jdk1.8.0_191
export HADOOP_HOME=/usr/local/hadoop/hadoop-2.7.7
export HADOOP_CONF_DIR=$HADOOP_HOME/etc/hadoop
export HIVE_HOME=/usr/local/hive/hive-2.3.4
export CLASSPATH=.:$JAVA_HOME/jre/lib/rt.jar:$JAVA_HOME/lib/dt.jar:$JAVA_HOME/lib/tools.jar
export PATH=$PATH:$JAVA_HOME/bin:$HADOOP_HOME/bin:$HADOOP_HOME/sbin:$HIVE_HOME/bin

</code></pre>
<p>ÂíåÂéüÊúâÁöÑÂèòÈáèÊï¥Âêà‰∏Ä‰∏ãÔºåÂ¶ÇÂõæ</p>
<figure data-type="image" tabindex="32"><img src="https://i.loli.net/2019/04/09/5cac163e4b5d2.png" alt=""></figure>
<p><code>source /etc/profile</code>‰øùÂ≠ò‰∏Ä‰∏ãÂç≥ÂèØ</p>
<h3 id="ÈÖçÁΩÆhive-sitexml">ÈÖçÁΩÆhive-site.xml</h3>
<p>ËøõÂÖ•hiveÊñá‰ª∂Â§πÔºåÂ§çÂà∂‰∏Ä‰ªΩ<strong>hive-site.xml</strong></p>
<pre><code>cp hive-default.xml.template   hive-site.xml

</code></pre>
<p>Áî±‰∫é<strong>hive-site.xml</strong>Êñá‰ª∂ËøáÈïøÔºåÊúÄÂ•ΩÂ§çÂà∂Âà∞ËôöÊãüÊú∫Â§ñ‰øÆÊîπ‰πãÂêéÂÜçÊã∑Ë¥ùÂõûÊù•</p>
<pre><code> &lt;property&gt;
    &lt;name&gt;javax.jdo.option.ConnectionURL&lt;/name&gt;
    &lt;value&gt;jdbc:mysql://master:3306/hive_metadata?createDatabaseIfNotExist=true&lt;/value&gt;
    &lt;description&gt;
      JDBC connect string for a JDBC metastore.
      To use SSL to encrypt/authenticate the connection, provide database-specific SSL flag in the connection URL.
      For example, jdbc:postgresql://myhost/db?ssl=true for postgres database.
    &lt;/description&gt;
 &lt;/property&gt;
 
 &lt;property&gt;
    &lt;name&gt;javax.jdo.option.ConnectionDriverName&lt;/name&gt;
    &lt;value&gt;com.mysql.jdbc.Driver&lt;/value&gt;
    &lt;description&gt;Driver class name for a JDBC metastore&lt;/description&gt;
 &lt;/property&gt;
  
 &lt;property&gt;
    &lt;name&gt;javax.jdo.option.ConnectionUserName&lt;/name&gt;
    &lt;value&gt;hive&lt;/value&gt;
    &lt;description&gt;Username to use against metastore database&lt;/description&gt;
 &lt;/property&gt;
    
 &lt;property&gt;
    &lt;name&gt;javax.jdo.option.ConnectionPassword&lt;/name&gt;
    &lt;value&gt;hive&lt;/value&gt;
    &lt;description&gt;password to use against metastore database&lt;/description&gt;
 &lt;/property&gt;

 &lt;property&gt;
    &lt;name&gt;hive.querylog.location&lt;/name&gt;
    &lt;value&gt;/usr/local/hive/hive-2.3.4/tmp/hadoop&lt;/value&gt;
    &lt;description&gt;Location of Hive run time structured log file&lt;/description&gt;
  &lt;/property&gt;
 
  &lt;property&gt;
    &lt;name&gt;hive.server2.logging.operation.log.location&lt;/name&gt;
    &lt;value&gt;/usr/local/hive/hive-2.3.4/tmp/hadoop/operation_logs&lt;/value&gt;
    &lt;description&gt;Top level directory where operation logs are stored if logging functionality is enabled&lt;/description&gt;
  &lt;/property&gt;
  
  &lt;property&gt;
    &lt;name&gt;hive.exec.local.scratchdir&lt;/name&gt;
    &lt;value&gt;/usr/local/hive/hive-2.3.4/tmp/hadoop&lt;/value&gt;
    &lt;description&gt;Local scratch space for Hive jobs&lt;/description&gt;
  &lt;/property&gt;
  
  &lt;property&gt;
    &lt;name&gt;hive.downloaded.resources.dir&lt;/name&gt;
    &lt;value&gt;/usr/local/hive/hive-2.3.4/tmp/${hive.session.id}_resources&lt;/value&gt;
    &lt;description&gt;Temporary local directory for added resources in the remote file system.&lt;/description&gt;
  &lt;/property&gt;
  
  &lt;property&gt;
    &lt;name&gt;hive.metastore.schema.verification&lt;/name&gt;
    &lt;value&gt;false&lt;/value&gt;
    &lt;description&gt;
      Enforce metastore schema version consistency.
      True: Verify that version information stored in is compatible with one from Hive jars.  Also disable automatic
            schema migration attempt. Users are required to manually migrate schema after Hive upgrade which ensures
            proper metastore schema migration. (Default)
      False: Warn if the version information stored in metastore doesn't match with one from in Hive jars.
    &lt;/description&gt;
  &lt;/property&gt;

</code></pre>
<h3 id="ÈÖçÁΩÆhive-envshÊñá‰ª∂">ÈÖçÁΩÆhive-env.shÊñá‰ª∂</h3>
<p>Â§çÂà∂‰∏Ä‰ªΩÈÖçÁΩÆÊñá‰ª∂</p>
<pre><code>cp hive-env.sh.template hive-env.sh

</code></pre>
<p>ÊâæÂà∞Â¶Ç‰∏ã‰ΩçÁΩÆÔºåÂÅöÂØπÂ∫î‰øÆÊîπ</p>
<pre><code># Set HADOOP_HOME to point to a specific hadoop install directory
HADOOP_HOME=/usr/local/hadoop/hadoop-2.7.7

# Hive Configuration Directory can be controlled by:
export HIVE_CONF_DIR=/usr/local/hive/hive-2.3.4/conf

# Folder containing extra libraries required for hive compilation/execution can be controlled by:
# export HIVE_AUX_JARS_PATH=
export JAVA_HOME=/usr/local/java/jdk1.8.0_201
export HIVE_HOME=/usr/local/hive/hive-2.3.4
</code></pre>
<p>Â¶ÇÂõæÊâÄÁ§∫Ôºö</p>
<figure data-type="image" tabindex="33"><img src="https://i.loli.net/2019/04/09/5cac16eb109b4.png" alt=""></figure>
<h3 id="‰∏ãËΩΩmysql-connector-javajar">‰∏ãËΩΩmysql-connector-java.jar</h3>
<p>Â∞ÜËØ•jarÂåÖÊîæËøõ<code>/usr/local/hive/hive-2.3.4/lib/</code>‰∏≠Âç≥ÂèØ</p>
<h3 id="ÂÆâË£ÖÂπ∂ÈÖçÁΩÆmysql">ÂÆâË£ÖÂπ∂ÈÖçÁΩÆmysql</h3>
<p>ÂÆâË£Ömysql-server</p>
<figure data-type="image" tabindex="34"><img src="https://i.loli.net/2019/04/09/5cac1704194cb.png" alt=""></figure>
<p>ÂÆåÊàê‰πãÂêéÔºå<code>systemctl status mysql.service</code>ÂèØ‰ª•Êü•ÁúãÂΩìÂâçÁä∂ÊÄÅ</p>
<figure data-type="image" tabindex="35"><img src="https://i.loli.net/2019/04/09/5cac172ee68ce.png" alt=""></figure>
<h3 id="mysql‰∏äÂàõÂª∫hiveÂÖÉÊï∞ÊçÆÂ∫ìÂàõÂª∫hiveË¥¶Âè∑Âπ∂ËøõË°åÊéàÊùÉ">Mysql‰∏äÂàõÂª∫hiveÂÖÉÊï∞ÊçÆÂ∫ìÔºåÂàõÂª∫hiveË¥¶Âè∑ÔºåÂπ∂ËøõË°åÊéàÊùÉ</h3>
<h2 id="ÂÆâË£Özookeeper">ÂÆâË£ÖZookeeper</h2>
<h3 id="‰ªãÁªç-3">‰ªãÁªç</h3>
<blockquote>
<p>ZooKeeperÊòØ‰∏Ä‰∏™ÂàÜÂ∏ÉÂºèÁöÑÂ∫îÁî®Á®ãÂ∫èÂçèË∞ÉÊúçÂä°ÔºåÊòØHadoopÂíåHbaseÁöÑÈáçË¶ÅÁªÑ‰ª∂„ÄÇÂÆÉÊòØ‰∏Ä‰∏™‰∏∫ÂàÜÂ∏ÉÂºèÂ∫îÁî®Êèê‰æõ‰∏ÄËá¥ÊÄßÊúçÂä°ÁöÑËΩØ‰ª∂ÔºåÊèê‰æõÁöÑÂäüËÉΩÂåÖÊã¨ÔºöÈÖçÁΩÆÁª¥Êä§„ÄÅÂüüÂêçÊúçÂä°„ÄÅÂàÜÂ∏ÉÂºèÂêåÊ≠•„ÄÅÁªÑÊúçÂä°Á≠â„ÄÇÂÖ∂ÁõÆÊ†áÂ∞±ÊòØÂ∞ÅË£ÖÂ•ΩÂ§çÊùÇÊòìÂá∫ÈîôÁöÑÂÖ≥ÈîÆÊúçÂä°ÔºåÂ∞ÜÁÆÄÂçïÊòìÁî®ÁöÑÊé•Âè£ÂíåÊÄßËÉΩÈ´òÊïà„ÄÅÂäüËÉΩÁ®≥ÂÆöÁöÑÁ≥ªÁªüÊèê‰æõÁªôÁî®Êà∑„ÄÇ</p>
<p>ZooKeeperÊòØ‰∏Ä‰∏™ÂàÜÂ∏ÉÂºèÁöÑÂ∫îÁî®Á®ãÂ∫èÂçèË∞ÉÊúçÂä°ÔºåÊòØHadoopÂíåHbaseÁöÑÈáçË¶ÅÁªÑ‰ª∂„ÄÇÂÆÉÊòØ‰∏Ä‰∏™‰∏∫ÂàÜÂ∏ÉÂºèÂ∫îÁî®Êèê‰æõ‰∏ÄËá¥ÊÄßÊúçÂä°ÁöÑËΩØ‰ª∂ÔºåÊèê‰æõÁöÑÂäüËÉΩÂåÖÊã¨ÔºöÈÖçÁΩÆÁª¥Êä§„ÄÅÂüüÂêçÊúçÂä°„ÄÅÂàÜÂ∏ÉÂºèÂêåÊ≠•„ÄÅÁªÑÊúçÂä°Á≠â„ÄÇÂÖ∂ÁõÆÊ†áÂ∞±ÊòØÂ∞ÅË£ÖÂ•ΩÂ§çÊùÇÊòìÂá∫ÈîôÁöÑÂÖ≥ÈîÆÊúçÂä°ÔºåÂ∞ÜÁÆÄÂçïÊòìÁî®ÁöÑÊé•Âè£ÂíåÊÄßËÉΩÈ´òÊïà„ÄÅÂäüËÉΩÁ®≥ÂÆöÁöÑÁ≥ªÁªüÊèê‰æõÁªôÁî®Êà∑„ÄÇ</p>
<p>ÈÇ£‰πàZookeeperËÉΩÂÅö‰ªÄ‰πà‰∫ãÊÉÖÂë¢Ôºü‰∏æ‰∏™ÁÆÄÂçïÁöÑ‰æãÂ≠êÔºöÂÅáËÆæÊàë‰ª¨Êúâ20‰∏™ÊêúÁ¥¢ÂºïÊìéÁöÑÊúçÂä°Âô®(ÊØè‰∏™Ë¥üË¥£ÊÄªÁ¥¢Âºï‰∏≠ÁöÑ‰∏ÄÈÉ®ÂàÜÁöÑÊêúÁ¥¢‰ªªÂä°)Âíå‰∏Ä‰∏™ÊÄªÊúçÂä°Âô®(Ë¥üË¥£ÂêëËøô20‰∏™ÊêúÁ¥¢ÂºïÊìéÁöÑÊúçÂä°Âô®ÂèëÂá∫ÊêúÁ¥¢ËØ∑Ê±ÇÂπ∂ÂêàÂπ∂ÁªìÊûúÈõÜ)Ôºå‰∏Ä‰∏™Â§áÁî®ÁöÑÊÄªÊúçÂä°Âô®(Ë¥üË¥£ÂΩìÊÄªÊúçÂä°Âô®ÂÆïÊú∫Êó∂ÊõøÊç¢ÊÄªÊúçÂä°Âô®)Ôºå‰∏Ä‰∏™webÁöÑcgi(ÂêëÊÄªÊúçÂä°Âô®ÂèëÂá∫ÊêúÁ¥¢ËØ∑Ê±Ç)„ÄÇÊêúÁ¥¢ÂºïÊìéÁöÑÊúçÂä°Âô®‰∏≠ÁöÑ15‰∏™ÊúçÂä°Âô®Êèê‰æõÊêúÁ¥¢ÊúçÂä°Ôºå5‰∏™ÊúçÂä°Âô®Ê≠£Âú®ÁîüÊàêÁ¥¢Âºï„ÄÇËøô20‰∏™ÊêúÁ¥¢ÂºïÊìéÁöÑÊúçÂä°Âô®ÁªèÂ∏∏Ë¶ÅËÆ©Ê≠£Âú®Êèê‰æõÊêúÁ¥¢ÊúçÂä°ÁöÑÊúçÂä°Âô®ÂÅúÊ≠¢Êèê‰æõÊúçÂä°ÂºÄÂßãÁîüÊàêÁ¥¢ÂºïÔºåÊàñÁîüÊàêÁ¥¢ÂºïÁöÑÊúçÂä°Âô®Â∑≤ÁªèÊääÁ¥¢ÂºïÁîüÊàêÂÆåÊàêÂèØ‰ª•Êèê‰æõÊêúÁ¥¢ÊúçÂä°‰∫Ü„ÄÇ‰ΩøÁî®ZookeeperÂèØ‰ª•‰øùËØÅÊÄªÊúçÂä°Âô®Ëá™Âä®ÊÑüÁü•ÊúâÂ§öÂ∞ëÊèê‰æõÊêúÁ¥¢ÂºïÊìéÁöÑÊúçÂä°Âô®Âπ∂ÂêëËøô‰∫õÊúçÂä°Âô®ÂèëÂá∫ÊêúÁ¥¢ËØ∑Ê±ÇÔºåÂΩìÊÄªÊúçÂä°Âô®ÂÆïÊú∫Êó∂Ëá™Âä®ÂêØÁî®Â§áÁî®ÁöÑÊÄªÊúçÂä°Âô®„ÄÇ</p>
</blockquote>
<h3 id="ÁéØÂ¢ÉÈÖçÁΩÆ-2">ÁéØÂ¢ÉÈÖçÁΩÆ</h3>
<p>‰ΩøÁî®winscp‰∏ä‰º†zookeeperÂÆâË£ÖÂåÖ</p>
<p>Êñ∞Âª∫Êñá‰ª∂Â§π<code>mkdir zookeeper</code></p>
<p>Ëß£ÂéãÁº©<code>tar -zxvf zookeeper-3.4.10.tar.gz</code></p>
<figure data-type="image" tabindex="36"><img src="https://i.loli.net/2019/04/09/5cac2be852fc3.png" alt=""></figure>
<p>ÁºñËæë<code>vim /etc/profile</code>ÔºåÂØπÊØîÊ∑ªÂä†Âíå‰øÆÊîπÔºö</p>
<pre><code>export JAVA_HOME=/usr/local/java/jdk1.8.0_191
export HADOOP_HOME=/usr/local/hadoop/hadoop-2.7.7
export HADOOP_CONF_DIR=$HADOOP_HOME/etc/hadoop
export HIVE_HOME=/usr/local/hive/hive-2.3.4
export ZOOKEEPER_HOME=/usr/local/zookeeper/zookeeper-3.4.10
export CLASSPATH=.:$JAVA_HOME/jre/lib/rt.jar:$JAVA_HOME/lib/dt.jar:$JAVA_HOME/lib/tools.jar
export PATH=$PATH:$JAVA_HOME/bin:$HADOOP_HOME/bin:$HADOOP_HOME/sbin:$HIVE_HOME/bin:$ZOOKEEPER_HOME/bin

</code></pre>
<p>Â¶ÇÂõæÊâÄÁ§∫Ôºö</p>
<figure data-type="image" tabindex="37"><img src="https://i.loli.net/2019/04/09/5cac2c2ce9312.png" alt=""></figure>
<p>‰øùÂ≠òÈÄÄÂá∫Âπ∂<code>source /etc/profile</code>‰ΩøÂÖ∂ÁîüÊïà</p>
<h3 id="ÈÖçÁΩÆzoocfgÊñá‰ª∂">ÈÖçÁΩÆzoo.cfgÊñá‰ª∂</h3>
<pre><code>cd /usr/local/zookeeper/zookeeper-3.4.10/conf
cp zoo_sample.cfg zoo.cfg

</code></pre>
<p>Â∞Üdatadir‰øÆÊîπ‰∏∫Ëá™Â∑±ÁöÑÂú∞ÂùÄÔºåÂπ∂Âú®Êñá‰ª∂Êú´Â∞æÂä†‰∏äÂ¶ÇÂõæÊâÄÁ§∫Â≠óÊÆµ</p>
<figure data-type="image" tabindex="38"><img src="https://i.loli.net/2019/04/09/5cac2cf42fc03.png" alt=""></figure>
<h3 id="ÈÖçÁΩÆmyidÊñá‰ª∂">ÈÖçÁΩÆmyidÊñá‰ª∂</h3>
<pre><code>cd ..
mkdir data 
cd data
vim myid

</code></pre>
<p>Âú®myidÊñá‰ª∂‰∏≠ËæìÂÖ•<code>0</code>Âç≥ÂèØ</p>
<figure data-type="image" tabindex="39"><img src="https://i.loli.net/2019/04/09/5cac2d8bdf835.png" alt=""></figure>
<h3 id="ÊµãËØï-2">ÊµãËØï</h3>
<p>Âú®<code>usr/local/zookeeper/zookeeper-3.4.10</code>ÁõÆÂΩï‰∏≠</p>
<p>ËæìÂÖ•<code>bin/zkServer.sh start</code>Âç≥ÂèØÂêØÂä®zookeeperÊúçÂä°</p>
<p>jpsÊü•ÁúãÔºåÊúâQuromPeerMainËøõÁ®ãË°®Á§∫ÂêØÂä®ÊàêÂäü„ÄÇ</p>
<figure data-type="image" tabindex="40"><img src="https://i.loli.net/2019/04/09/5cac2e3a5b712.png" alt=""></figure>
<h2 id="ÂÆâË£Ökafka">ÂÆâË£ÖKafka</h2>
<h3 id="‰ªãÁªç-4">‰ªãÁªç</h3>
<blockquote>
<p>KafkaÊòØ‰∏ÄÁßçÈ´òÂêûÂêêÈáèÁöÑÂàÜÂ∏ÉÂºèÂèëÂ∏ÉËÆ¢ÈòÖÊ∂àÊÅØÁ≥ªÁªüÔºåÂÆÉÂèØ‰ª•Â§ÑÁêÜÊ∂àË¥πËÄÖËßÑÊ®°ÁöÑÁΩëÁ´ô‰∏≠ÁöÑÊâÄÊúâÂä®‰ΩúÊµÅÊï∞ÊçÆ„ÄÇProducerÂç≥Áîü‰∫ßËÄÖÔºåÂêëKafkaÈõÜÁæ§ÂèëÈÄÅÊ∂àÊÅØÔºåÂú®ÂèëÈÄÅÊ∂àÊÅØ‰πãÂâçÔºå‰ºöÂØπÊ∂àÊÅØËøõË°åÂàÜÁ±ªÔºåÂç≥‰∏ªÈ¢òÔºàTopicÔºâÔºåÈÄöËøáÂØπÊ∂àÊÅØÊåáÂÆö‰∏ªÈ¢òÂèØ‰ª•Â∞ÜÊ∂àÊÅØÂàÜÁ±ªÔºåÊ∂àË¥πËÄÖÂèØ‰ª•Âè™ÂÖ≥Ê≥®Ëá™Â∑±ÈúÄË¶ÅÁöÑTopic‰∏≠ÁöÑÊ∂àÊÅØ„ÄÇConsumerÔºåÂç≥Ê∂àË¥πËÄÖÔºåÊ∂àË¥πËÄÖÈÄöËøá‰∏ékafkaÈõÜÁæ§Âª∫Á´ãÈïøËøûÊé•ÁöÑÊñπÂºèÔºå‰∏çÊñ≠Âú∞‰ªéÈõÜÁæ§‰∏≠ÊãâÂèñÊ∂àÊÅØÔºåÁÑ∂ÂêéÂèØ‰ª•ÂØπËøô‰∫õÊ∂àÊÅØËøõË°åÂ§ÑÁêÜ„ÄÇ</p>
</blockquote>
<h3 id="ÂÆâË£Öscala">ÂÆâË£ÖScala</h3>
<p>KafkaÁî±JavaÂíåScalaÁºñÂÜôÔºåÊâÄ‰ª•Êàë‰ª¨ÂÖàË¶ÅÂÆâË£ÖÈÖçÁΩÆScala</p>
<pre><code>cd /usr/local
mkdir scala
cd scala/
#Áî®winscpÊääscalaÂÆâË£ÖÂåÖ‰∏ä‰º†Âà∞ËØ•Êñá‰ª∂Â§πÂπ∂Ëß£Âéã
tar -zxvf scala-2.11.8.tgz

</code></pre>
<figure data-type="image" tabindex="41"><img src="https://i.loli.net/2019/04/09/5cac2f658ca90.png" alt=""></figure>
<h3 id="ÈÖçÁΩÆÁéØÂ¢ÉÂèòÈáè-2">ÈÖçÁΩÆÁéØÂ¢ÉÂèòÈáè</h3>
<p>ËøõÂÖ•<code>vim /etc/profile</code>ÔºåÂØπÊØî‰øÆÊîπÔºö</p>
<pre><code>export JAVA_HOME=/usr/local/java/jdk1.8.0_191
export HADOOP_HOME=/usr/local/hadoop/hadoop-2.7.7
export HADOOP_CONF_DIR=$HADOOP_HOME/etc/hadoop
export HIVE_HOME=/usr/local/hive/hive-2.3.4
export ZOOKEEPER_HOME=/usr/local/zookeeper/zookeeper-3.4.10
export SCALA_HOME=/usr/local/scala/scala-2.11.8
export CLASSPATH=.:$JAVA_HOME/jre/lib/rt.jar:$JAVA_HOME/lib/dt.jar:$JAVA_HOME/lib/tools.jar
export PATH=$PATH:$JAVA_HOME/bin:$HADOOP_HOME/bin:$HADOOP_HOME/sbin:$HIVE_HOME/bin:$ZOOKEEPER_HOME/bin:$SCALA_HOME/bin

</code></pre>
<p>Â¶ÇÂõæÊâÄÁ§∫Ôºö</p>
<figure data-type="image" tabindex="42"><img src="https://i.loli.net/2019/04/09/5cac2f847e2cc.png" alt=""></figure>
<p>‰øùÂ≠òÈÄÄÂá∫Âπ∂<code>source /etc/profile</code>‰ΩøÂÖ∂ÁîüÊïà</p>
<p>È™åËØÅÊòØÂê¶ÂÆâË£ÖÊàêÂäüÔºåËæìÂÖ•<code>scala -version</code>Âç≥ÂèØÊü•ÁúãÁâàÊú¨‰ø°ÊÅØ</p>
<figure data-type="image" tabindex="43"><img src="https://i.loli.net/2019/04/09/5cac2f9c8b962.png" alt=""></figure>
<h3 id="ÈÖçÁΩÆkafka">ÈÖçÁΩÆKafka</h3>
<p>ÂàõÂª∫ÁõÆÂΩïÔºåÊääÂéãÁº©ÂåÖÁî®winscp‰∏ä‰º†</p>
<pre><code>mkdir kafka
cd kafka
tar -zxvf kafka_2.11-2.1.0.tgz
mv kafka_2.11-2.1.0 kafka-2.1.0

</code></pre>
<figure data-type="image" tabindex="44"><img src="https://i.loli.net/2019/04/09/5cac2fc48d4f5.png" alt=""></figure>
<h3 id="‰øÆÊîπserverpropertiesÊñá‰ª∂">‰øÆÊîπserver.propertiesÊñá‰ª∂</h3>
<p><code>vim kafka-2.1.0/config/server.properties</code></p>
<p>ÊâæÂà∞Â¶Ç‰∏ãÂ≠óÊÆµÂπ∂ÂØπÂ∫î‰øÆÊîπ</p>
<pre><code>broker.id=0
listeners=PLAINTEXT://192.168.6.22:9092
advertised.listeners=PLAINTEXT://192.168.6.22:9092
zookeeper.connect=192.168.6.22:2181

</code></pre>
<p>Â¶ÇÂõæ</p>
<figure data-type="image" tabindex="45"><img src="https://i.loli.net/2019/04/09/5cac2fe843ebb.png" alt=""></figure>
<figure data-type="image" tabindex="46"><img src="https://i.loli.net/2019/04/09/5cac3006eb331.png" alt=""></figure>
<h3 id="ÊµãËØï-3">ÊµãËØï</h3>
<p>ÂêØÂä®kafka</p>
<pre><code>cd kafka/kafka-2.1.0/
bin/kafka-server-start.sh config/server.properties &amp;

</code></pre>
<p>jpsÊü•ÁúãËøõÁ®ã</p>
<figure data-type="image" tabindex="47"><img src="https://i.loli.net/2019/04/09/5cac301f3c759.png" alt=""></figure>
<h2 id="ÂÆâË£Öflume">ÂÆâË£ÖFlume</h2>
<h3 id="‰ªãÁªç-5">‰ªãÁªç</h3>
<blockquote>
<p>FlumeÊòØClouderaÊèê‰æõÁöÑ‰∏Ä‰∏™È´òÂèØÁî®ÁöÑÔºåÈ´òÂèØÈù†ÁöÑÔºåÂàÜÂ∏ÉÂºèÁöÑÊµ∑ÈáèÊó•ÂøóÈááÈõÜ„ÄÅËÅöÂêàÂíå‰º†ËæìÁöÑÁ≥ªÁªüÔºåFlumeÊîØÊåÅÂú®Êó•ÂøóÁ≥ªÁªü‰∏≠ÂÆöÂà∂ÂêÑÁ±ªÊï∞ÊçÆÂèëÈÄÅÊñπÔºåÁî®‰∫éÊî∂ÈõÜÊï∞ÊçÆÔºõÂêåÊó∂ÔºåFlumeÊèê‰æõÂØπÊï∞ÊçÆËøõË°åÁÆÄÂçïÂ§ÑÁêÜÔºåÂπ∂ÂÜôÂà∞ÂêÑÁßçÊï∞ÊçÆÊé•ÂèóÊñπÔºàÂèØÂÆöÂà∂ÔºâÁöÑËÉΩÂäõ„ÄÇFlumeÊèê‰æõ‰∫Ü‰ªéconsoleÔºàÊéßÂà∂Âè∞Ôºâ„ÄÅRPCÔºàThrift-RPCÔºâ„ÄÅtextÔºàÊñá‰ª∂Ôºâ„ÄÅtailÔºàUNIX tailÔºâ„ÄÅsyslogÔºàsyslogÊó•ÂøóÁ≥ªÁªüÔºâÔºåÊîØÊåÅTCPÂíåUDPÁ≠â2ÁßçÊ®°ÂºèÔºâÔºåexecÔºàÂëΩ‰ª§ÊâßË°åÔºâÁ≠âÊï∞ÊçÆÊ∫ê‰∏äÊî∂ÈõÜÊï∞ÊçÆÁöÑËÉΩÂäõ„ÄÇ</p>
<p>‰ΩøÁî®FlumeÔºåÊàë‰ª¨ÂèØ‰ª•Â∞Ü‰ªéÂ§ö‰∏™ÊúçÂä°Âô®‰∏≠Ëé∑ÂèñÁöÑÊï∞ÊçÆËøÖÈÄüÁöÑÁßª‰∫§ÁªôHadoop‰∏≠ÔºåÂèØ‰ª•È´òÊïàÁéáÁöÑÂ∞ÜÂ§ö‰∏™ÁΩëÁ´ôÊúçÂä°Âô®‰∏≠Êî∂ÈõÜÁöÑÊó•Âøó‰ø°ÊÅØÂ≠òÂÖ•HDFS/HBase‰∏≠„ÄÇ</p>
</blockquote>
<h3 id="ÁéØÂ¢ÉÈÖçÁΩÆ-3">ÁéØÂ¢ÉÈÖçÁΩÆ</h3>
<p>ÂàõÂª∫ÁõÆÂΩïÔºå‰ΩøÁî®winscpÊääÂéãÁº©ÂåÖ‰∏ä‰º†</p>
<pre><code>mkdir flume
cd flume
tar -zxvf apache-flume-1.8.0-bin.tar.gz 
mv apache-flume-1.8.0-bin flume-1.8.0

</code></pre>
<p>Â¶ÇÂõæÔºö</p>
<figure data-type="image" tabindex="48"><img src="https://i.loli.net/2019/04/09/5cac30389c66e.png" alt=""></figure>
<p>ÊâìÂºÄ<code>vim /etc/profile</code>ÔºåÂ¶Ç‰∏ã‰øÆÊîπ</p>
<pre><code>export JAVA_HOME=/usr/local/java/jdk1.8.0_210
export HADOOP_HOME=/usr/local/hadoop/hadoop-2.7.7
export HADOOP_CONF_DIR=$HADOOP_HOME/etc/hadoop
export HIVE_HOME=/usr/local/hive/hive-2.3.4
export ZOOKEEPER_HOME=/usr/local/zookeeper/zookeeper-3.4.10
export SCALA_HOME=/usr/local/scala/scala-2.11.8
export FLUME_HOME=/usr/local/flume/flume-1.8.0
export FLUME_CONF_DIR=$FLUME_HOME/conf
export CLASSPATH=.:$JAVA_HOME/jre/lib/rt.jar:$JAVA_HOME/lib/dt.jar:$JAVA_HOME/lib/tools.jar
export PATH=$PATH:$JAVA_HOME/bin:$HADOOP_HOME/bin:$HADOOP_HOME/sbin:$HIVE_HOME/bin:$ZOOKEEPER_HOME/bin:$SCALA_HOME/bin:$FLUME_HOME/bin

</code></pre>
<p>Â¶ÇÂõæÊâÄÁ§∫Ôºö</p>
<figure data-type="image" tabindex="49"><img src="https://i.loli.net/2019/04/09/5cac305539db5.png" alt=""></figure>
<p><code>source /etc/profile</code>‰ΩøÂÖ∂ÁîüÊïà</p>
<h3 id="‰øÆÊîπflume-confproperties">‰øÆÊîπflume-conf.properties</h3>
<pre><code>cd flume-1.8.0/conf
cp flume-conf.properties.template flume-conf.properties

</code></pre>
<p><code>vim flume-conf.properties</code>Âú®Êñá‰ª∂ÊúÄÂêéÂä†‰∏äÂ¶Ç‰∏ãÂÜÖÂÆπÔºö</p>
<pre><code>#agent1Ë°®Á§∫‰ª£ÁêÜÂêçÁß∞
agent1.sources=source1
agent1.sinks=sink1
agent1.channels=channel1
#ÈÖçÁΩÆsource1
agent1.sources.source1.type=spooldir
agent1.sources.source1.spoolDir=/usr/local/flume/logs
agent1.sources.source1.channels=channel1
agent1.sources.source1.fileHeader = false
agent1.sources.source1.interceptors = i1
agent1.sources.source1.interceptors.i1.type = timestamp
#ÈÖçÁΩÆchannel1
agent1.channels.channel1.type=file
agent1.channels.channel1.checkpointDir=/usr/local/flume/logs_tmp_cp
agent1.channels.channel1.dataDirs=/usr/local/flume/logs_tmp
#ÈÖçÁΩÆsink1
agent1.sinks.sink1.type=hdfs
agent1.sinks.sink1.hdfs.path=hdfs://master:9000/logs
agent1.sinks.sink1.hdfs.fileType=DataStream
agent1.sinks.sink1.hdfs.writeFormat=TEXT
agent1.sinks.sink1.hdfs.rollInterval=1
agent1.sinks.sink1.channel=channel1
agent1.sinks.sink1.hdfs.filePrefix=%Y-%m-%d

</code></pre>
<p>Âõ†‰∏∫‰∏äÈù¢ÁõëÂê¨ÁöÑÊñá‰ª∂Â§πÊòØ<code>usr/local/flume/logs</code>ÊâÄ‰ª•Êàë‰ª¨Ë¶ÅÊâãÂä®ÂàõÂª∫</p>
<pre><code>cd /usr/local/flume
mkdir logs

</code></pre>
<figure data-type="image" tabindex="50"><img src="https://i.loli.net/2019/04/09/5cac306e31d14.png" alt=""></figure>
<p>‰∏äÈù¢ÁöÑÈÖçÁΩÆÊñá‰ª∂‰∏≠ <code>agent1.sinks.sink1.hdfs.path=hdfs://master:9000/logs</code>‰∏ãÔºåÂç≥Â∞ÜÁõëÂê¨Âà∞ÁöÑ<code>/usr/local/flume/logs</code>‰∏ãÁöÑÊñá‰ª∂Ëá™Âä®‰∏ä‰º†Âà∞hdfsÁöÑ<code>/logs</code>‰∏ãÔºåÊâÄ‰ª•Êàë‰ª¨Ë¶ÅÊâãÂä®ÂàõÂª∫hdfs‰∏ãÁöÑÁõÆÂΩï</p>
<pre><code>hdfs dfs -mkdir /logs 
</code></pre>
<p>Êú™ÂÆåÂæÖÁª≠‚Ä¶.</p>
<h2 id="ÂÆâË£Öhbase">ÂÆâË£ÖHbase</h2>
<h3 id="‰ªãÁªç-6">‰ªãÁªç</h3>
<blockquote>
<p>HBase ‚Äì Hadoop DatabaseÔºåÊòØ‰∏Ä‰∏™È´òÂèØÈù†ÊÄß„ÄÅÈ´òÊÄßËÉΩ„ÄÅÈù¢ÂêëÂàó„ÄÅÂèØ‰º∏Áº©ÁöÑÂàÜÂ∏ÉÂºèÂ≠òÂÇ®Á≥ªÁªü„ÄÇHadoop HDFS‰∏∫HBaseÊèê‰æõ‰∫ÜÈ´òÂèØÈù†ÊÄßÁöÑÂ∫ïÂ±ÇÂ≠òÂÇ®ÊîØÊåÅÔºåHadoop MapReduce‰∏∫HBaseÊèê‰æõ‰∫ÜÈ´òÊÄßËÉΩÁöÑËÆ°ÁÆóËÉΩÂäõÔºåZookeeper‰∏∫HBaseÊèê‰æõ‰∫ÜÁ®≥ÂÆöÊúçÂä°ÂíåfailoverÊú∫Âà∂„ÄÇ</p>
</blockquote>
<h3 id="ÁéØÂ¢ÉÈÖçÁΩÆ-4">ÁéØÂ¢ÉÈÖçÁΩÆ</h3>
<p>ÂàõÂª∫ÁõÆÂΩïÔºå‰ΩøÁî®winscpÂ∞ÜÂéãÁº©ÂåÖ‰∏ä‰º†</p>
<pre><code>mkdir hbase
cd hbase
tar -zxvf hbase-2.1.1-bin.tar.gz
</code></pre>
<figure data-type="image" tabindex="51"><img src="https://i.loli.net/2019/04/09/5cac310163575.png" alt=""></figure>
<p>ÊâìÂºÄ<code>vim /etc/profile</code>ÁéØÂ¢ÉÂèòÈáè</p>
<pre><code>export JAVA_HOME=/usr/local/java/jdk1.8.0_210
export HADOOP_HOME=/usr/local/hadoop/hadoop-2.7.7
export HADOOP_CONF_DIR=$HADOOP_HOME/etc/hadoop
export HIVE_HOME=/usr/local/hive/hive-2.3.4
export ZOOKEEPER_HOME=/usr/local/zookeeper/zookeeper-3.4.10
export SCALA_HOME=/usr/local/scala/scala-2.11.8
export FLUME_HOME=/usr/local/flume/flume-1.8.0
export FLUME_CONF_DIR=$FLUME_HOME/conf
export HBASE_HOME=/usr/local/hbase/hbase-2.1.1
export CLASSPATH=.:$JAVA_HOME/jre/lib/rt.jar:$JAVA_HOME/lib/dt.jar:$JAVA_HOME/lib/tools.jar
export PATH=$PATH:$JAVA_HOME/bin:$HADOOP_HOME/bin:$HADOOP_HOME/sbin:$HIVE_HOME/bin:$ZOOKEEPER_HOME/bin:$SCALA_HOME/bin:$FLUME_HOME/bin:$HBASE_HOME/bin

</code></pre>
<p>Â¶ÇÂõæÊâÄÁ§∫</p>
<figure data-type="image" tabindex="52"><img src="https://i.loli.net/2019/04/09/5cac3193bdd8a.png" alt=""></figure>
<p>‰øùÂ≠òÈÄÄÂá∫Âπ∂<code>source /etc/profile</code>‰ΩøÂÖ∂ÁîüÊïà</p>
<h3 id="ÈÖçÁΩÆhbase-envsh">ÈÖçÁΩÆhbase-env.sh</h3>
<pre><code>cd hbase-2.1.1/conf
vim hbase-env.sh

#ÂêéÈù¢Ê∑ªÂä†Â¶Ç‰∏ãÂ≠óÊÆµ
export JAVA_HOME=/usr/local/java/jdk1.8.0_210
export HBASE_LOG_DIR=${HBASE_HOME}/logs 
export HBASE_MANAGES_ZK=false

</code></pre>
<p>Â¶ÇÂõæ</p>
<figure data-type="image" tabindex="53"><img src="https://i.loli.net/2019/04/09/5cac31b765090.png" alt=""></figure>
<h3 id="ÈÖçÁΩÆhbase-sitexml">ÈÖçÁΩÆhbase-site.xml</h3>
<p>ÁºñËæë<code>vim hbase-site.xml</code></p>
<pre><code>&lt;configuration&gt;
&lt;property&gt; 
    &lt;name&gt;hbase.rootdir&lt;/name&gt; 
    &lt;value&gt;hdfs://master:9000/hbase&lt;/value&gt; 
  &lt;/property&gt; 
  &lt;property&gt; 
    &lt;name&gt;hbase.cluster.distributed&lt;/name&gt; 
    &lt;value&gt;true&lt;/value&gt; 
  &lt;/property&gt; 
  &lt;property&gt; 
    &lt;name&gt;hbase.zookeeper.quorum&lt;/name&gt; 
    &lt;value&gt;master,slave1,slave2&lt;/value&gt; 
  &lt;/property&gt; 
  &lt;property&gt; 
    &lt;name&gt;hbase.zookeeper.property.dataDir&lt;/name&gt; 
    &lt;value&gt;/usr/local/zookeeper/zookeeper-3.4.10/data&lt;/value&gt; 
  &lt;/property&gt; 
  &lt;property&gt; 
    &lt;name&gt;hbase.master&lt;/name&gt; 
    &lt;value&gt;hdfs://master:60000&lt;/value&gt; 
  &lt;/property&gt;
  &lt;property&gt;
    &lt;name&gt;hbase.master.info.port&lt;/name&gt;
    &lt;value&gt;16010&lt;/value&gt;
  &lt;/property&gt;
  &lt;property&gt;
    &lt;name&gt;hbase.regionserver.info.port&lt;/name&gt;
    &lt;value&gt;16030&lt;/value&gt;
  &lt;/property&gt;
&lt;/configuration&gt;

</code></pre>
<figure data-type="image" tabindex="54"><img src="https://i.loli.net/2019/04/09/5cac31d484fb2.png" alt=""></figure>
<h3 id="ÈÖçÁΩÆregionserversÊñá‰ª∂">ÈÖçÁΩÆregionserversÊñá‰ª∂</h3>
<p>Âõ†‰∏∫ÊàëËøôÈáåÂè™Êúâ‰∏Ä‰∏™masterËäÇÁÇπÔºåÊïÖÊñá‰ª∂ÈáåÂè™‰øÆÊîπmaster</p>
<pre><code>vim regionservers 
master

</code></pre>
<figure data-type="image" tabindex="55"><img src="https://i.loli.net/2019/04/09/5cac31f5d19b3.png" alt=""></figure>
<h3 id="ÊµãËØï-4">ÊµãËØï</h3>
<pre><code>cd hbase/hbase-2.1.1
bin/start-hbase.sh   
jps

</code></pre>
<p>Êü•ÁúãÊòØÂê¶ÂêØÂä®‰∫Ü<strong>HMaster</strong>Âíå<strong>HRegionServer</strong>ÔºåÂ¶ÇÂõæÊâÄÁ§∫</p>
<figure data-type="image" tabindex="56"><img src="https://i.loli.net/2019/04/09/5cac320ebc60f.png" alt=""></figure>
<h2 id="ÂÆâË£Öspark">ÂÆâË£ÖSpark</h2>
<h3 id="‰ªãÁªç-7">‰ªãÁªç</h3>
<blockquote>
<p>Apache Spark ÊòØ‰∏ì‰∏∫Â§ßËßÑÊ®°Êï∞ÊçÆÂ§ÑÁêÜËÄåËÆæËÆ°ÁöÑÂø´ÈÄüÈÄöÁî®ÁöÑËÆ°ÁÆóÂºïÊìéÔºåÊòØÁ±ª‰ºº‰∫éHadoop MapReduceÁöÑÈÄöÁî®Âπ∂Ë°åÊ°ÜÊû∂„ÄÇSparkÊã•ÊúâHadoop MapReduceÊâÄÂÖ∑ÊúâÁöÑ‰ºòÁÇπÔºå‰ΩÜ‰∏çÂêå‰∫éMapReduceÁöÑÊòØ‚Äî‚ÄîJob‰∏≠Èó¥ËæìÂá∫ÁªìÊûúÂèØ‰ª•‰øùÂ≠òÂú®ÂÜÖÂ≠ò‰∏≠Ôºå‰ªéËÄå‰∏çÂÜçÈúÄË¶ÅËØªÂÜôHDFSÔºåÂõ†Ê≠§SparkËÉΩÊõ¥Â•ΩÂú∞ÈÄÇÁî®‰∫éÊï∞ÊçÆÊåñÊéò‰∏éÊú∫Âô®Â≠¶‰π†Á≠âÈúÄË¶ÅËø≠‰ª£ÁöÑMapReduceÁöÑÁÆóÊ≥ï„ÄÇSparkÂÆûÈôÖ‰∏äÊòØÂØπHadoopÁöÑ‰∏ÄÁßçË°•ÂÖÖÔºåÂèØ‰ª•ÂæàÂ•ΩÁöÑÂú®Hadoop Êñá‰ª∂Á≥ªÁªü‰∏≠Âπ∂Ë°åËøêË°å„ÄÇ</p>
</blockquote>
<h3 id="ÁéØÂ¢ÉÈÖçÁΩÆ-5">ÁéØÂ¢ÉÈÖçÁΩÆ</h3>
<p>ÂàõÂª∫ÁõÆÂΩïÔºå‰ΩøÁî®winscpÂ∞ÜÂéãÁº©ÂåÖ‰∏ä‰º†</p>
<pre><code>mkdir spark
cd spark
tar -zxvf spark-2.4.0-bin-hadoop2.7.tgz 
mv spark-2.4.0-bin-hadoop2.7 spark-2.4.0

</code></pre>
<figure data-type="image" tabindex="57"><img src="https://i.loli.net/2019/04/09/5cac32255d68f.png" alt=""></figure>
<p>‰øÆÊîπÁ≥ªÁªüÂèòÈáè</p>
<pre><code>vim /etc/profile
export JAVA_HOME=/usr/local/jdk/jdk1.8.0_201
export HADOOP_HOME=/usr/local/hadoop/hadoop-2.7.7
export HADOOP_CONF_DIR=$HADOOP_HOME/etc/hadoop
export HIVE_HOME=/usr/local/hive/hive-2.3.4
export ZOOKEEPER_HOME=/usr/local/zookeeper/zookeeper-3.4.10
export SCALA_HOME=/usr/local/scala/scala-2.11.8
export FLUME_HOME=/usr/local/flume/flume-1.8.0
export FLUME_CONF_DIR=$FLUME_HOME/conf
export HBASE_HOME=/usr/local/hbase/hbase-2.1.1
export SPARK_HOME=/usr/local/spark/spark-2.4.0
export CLASSPATH=.:$JAVA_HOME/jre/lib/rt.jar:$JAVA_HOME/lib/dt.jar:$JAVA_HOME/lib/tools.jar
export PATH=$PATH:$JAVA_HOME/bin:$HADOOP_HOME/bin:$HADOOP_HOME/sbin:$HIVE_HOME/bin:$ZOOKEEPER_HOME/bin:$SCALA_HOME/bin:$FLUME_HOME/bin:$HBASE_HOME/bin:$SPARK_HOME/bin

</code></pre>
<p>‰øùÂ≠òÈÄÄÂá∫Âπ∂<code>source /etc/profile</code></p>
<figure data-type="image" tabindex="58"><img src="https://i.loli.net/2019/04/09/5cac323a76b22.png" alt=""></figure>
<h3 id="ÈÖçÁΩÆspark-envshÊñá‰ª∂">ÈÖçÁΩÆspark-env.shÊñá‰ª∂</h3>
<pre><code>cd spark-2.4.0/conf/
cp spark-env.sh.template spark-env.sh
vim spark-env.sh 
#
export JAVA_HOME=/usr/local/jdk/jdk1.8.0_201
export SCALA_HOME=/usr/local/scala/scala-2.11.8
export HADOOP_HOME=/usr/local/hadoop/hadoop-2.7.7
export HADOOP_CONF_DIR=/usr/local/hadoop/hadoop-2.7.7/etc/hadoop
</code></pre>
<h3 id="ÈÖçÁΩÆslavesÊñá‰ª∂">ÈÖçÁΩÆslavesÊñá‰ª∂</h3>
<pre><code>mv slaves.template slaves
vim slaves
master
</code></pre>
<p>Â¶ÇÂõæÊâÄÁ§∫Ôºö</p>
<figure data-type="image" tabindex="59"><img src="https://i.loli.net/2019/04/09/5cac3266773cb.png" alt=""></figure>
<p>ÊâìÂºÄÊµèËßàÂô®<strong>http://192.168.6.22:8080/</strong></p>
<figure data-type="image" tabindex="60"><img src="https://i.loli.net/2019/04/09/5cac32a8d2fb6.png" alt=""></figure>
<h3 id="ÊµãËØï-5">ÊµãËØï</h3>
<p>‰ΩøÁî®SparkËá™Â∏¶ÁöÑËÆ°ÁÆóÂúÜÂë®ÁéáÂÅöÊµãËØï</p>
<pre><code>./bin/spark-submit  \
--class  org.apache.spark.examples.SparkPi  \
--master  local  \
examples/jars/spark-examples_2.11-2.4.0.jar
</code></pre>
<p>Âú®ÊéßÂà∂Âè∞‰∏≠ÂèØ‰ª•ÊâæÂà∞ËæìÂá∫ÁöÑÁªìÊûú</p>
<figure data-type="image" tabindex="61"><img src="https://i.loli.net/2019/04/09/5cac32c7b9e27.png" alt=""></figure>

            </article>
          </div>
          <div class='entry-meta-bottom'>
            <div class="entry-categories">
              <p>
                <span>Categories</span>
                
                  
                    
                  <a href="https://iidx.xyz/tag/2ec75jeIG" title="View all posts in Other">Other</a>
                    
                    
                    
                  <a href="https://iidx.xyz/tag/NluVhaZaE" title="View all posts in V2ray">V2ray</a>
                    
                    
                    
                  <a href="https://iidx.xyz/tag/f7tGobuX0" title="View all posts in Office365">Office365</a>
                    
                    
                    
                  <a href="https://iidx.xyz/tag/FRQBgPRT2" title="View all posts in Docker">Docker</a>
                    
                    
                    
                  <a href="https://iidx.xyz/tag/vsYNOwC5t" title="View all posts in Tech">Tech</a>
                    
                    
                    
                  <a href="https://iidx.xyz/tag/x6J1TFbCJ" title="View all posts in Azure">Azure</a>
                    
                    
                    
                  <a href="https://iidx.xyz/tag/aXetfket7" title="View all posts in Windows">Windows</a>
                    
                    
                    
                  <a href="https://iidx.xyz/tag/e0FqaAlmZ" title="View all posts in AD FS">AD FS</a>
                    
                    
                    
                  <a href="https://iidx.xyz/tag/sYpHDKKCm" title="View all posts in Bigdata">Bigdata</a>
                    
                    
                    
                  <a href="https://iidx.xyz/tag/Cp6cuL_aC" title="View all posts in Hackintosh">Hackintosh</a>
                    
                    
                    
                  <a href="https://iidx.xyz/tag/5Z456dcn_" title="View all posts in Hexo">Hexo</a>
                    
                    
              </p>
            </div>
            <div class="entry-tags">
              <p><span>Tags</span>
              </p>
            </div>
          </div>
          <div class="author-meta">
            <div class="author">
              <img alt='' src="https://iidx.xyz/images/avatar.png?v=1569470386763" class='avatar avatar-72 photo' height='72' width='72'>
              <span>WRITTEN BY: &nbsp;&nbsp;&nbsp;<a href='https://iidx.xyz'>tediorelee</a> </span>
            </div>
            <div class="bio">
              <p>Êú™Êù•Ê≤°Êúâ‰∫∫ËÉΩÂ§üÈ¢ÑÊµã</p>
              
                
                  <a class="github" target="_blank"
                     href="https://github.com/tediorelee">
                    <i class="fab fa-github" title="github"></i>
                  </a>
                
              
                
                  <a class="twitter" target="_blank"
                     href="https://twitter.com/ted1ore_lee">
                    <i class="fab fa-twitter" title="twitter"></i>
                  </a>
                
              
                
                  <a class="weibo" target="_blank"
                     href="http://weibo.com/u/3200965454">
                    <i class="fab fa-weibo" title="weibo"></i>
                  </a>
                
              
                
                  <a class="zhihu" target="_blank"
                     href="https://www.zhihu.com/people/tediorelee-10/activities">
                    <i class="fab fa-zhihu" title="zhihu"></i>
                  </a>
                
              
                
              
                
              
                
              
            </div>
          </div>
        </div>
          
            <nav class="navigation pagination" role="navigation">
              <h2 class="screen-reader-text">Posts navigation</h2>
              <div class="nav-links">
                <a class="next page-numbers" href="https://iidx.xyz/post/how-to-connect-azure-vnet-on-osx">‰∏ã‰∏ÄÁØá->üåàHow to connect Azure Vnet on OSX</a>
              </div>
            </nav>
          
      </div>
      <section id="comments" class="comments">
        
          
            <link rel="stylesheet" href="https://unpkg.com/gitalk/dist/gitalk.css">
<script src="https://unpkg.com/gitalk/dist/gitalk.min.js"></script>

<div id="gitalk-container"></div>

<script>

  var gitalk = new Gitalk({
    clientID: '0102793645acc8ba1446',
    clientSecret: 'dbc9e05fb6ac3866c98a32d4af38e4494934965c',
    repo: 'tediorelee.github.io',
    owner: 'tediorelee',
    admin: ['tediorelee'],
    id: location.pathname,      // Ensure uniqueness and length less than 50
    distractionFreeMode: false  // Facebook-like distraction free mode
  })

  gitalk.render('gitalk-container')

</script>

          

          
        
      </section>
    </div>
  </div>

  <footer id="site-footer" class="site-footer" role="contentinfo">
    <h1>
        <a href="https://iidx.xyz"> ùíØùê∏ùíüùêºùí™ùëÖùê∏ùêøùê∏ùê∏ </a>
    </h1>
    <p class="site-description">‚Äú è·¥è·¥ú' Ä·¥á ·¥ä·¥úÍú±·¥õ ·¥Ä Íú±·¥Ä·¥Ö Íú±·¥è…¥…¢ ·¥°…™·¥õ ú …¥·¥è·¥õ ú…™…¥…¢ ·¥õ·¥è Íú±·¥Ä è‚Äù</p>
    <div id="menu-footer" class="menu-container menu-footer" role="navigation">
        <div class="menu">
            <ul id="menu-footer-items" class="menu-footer-items">
            </ul>
        </div>
    </div>
    <ul class="social-media-icons">
        
            
                <li>
                    <a href="https://github.com/tediorelee" data-animate-hover="pulse" class="github" target="_blank">
                        <i class="fab fa-github" title="github"></i>
                        <span class="screen-reader-text">github</span>
                    </a>
                </li>
            
        
            
                <li>
                    <a href="https://twitter.com/ted1ore_lee" data-animate-hover="pulse" class="twitter" target="_blank">
                        <i class="fab fa-twitter" title="twitter"></i>
                        <span class="screen-reader-text">twitter</span>
                    </a>
                </li>
            
        
            
                <li>
                    <a href="http://weibo.com/u/3200965454" data-animate-hover="pulse" class="weibo" target="_blank">
                        <i class="fab fa-weibo" title="weibo"></i>
                        <span class="screen-reader-text">weibo</span>
                    </a>
                </li>
            
        
            
                <li>
                    <a href="https://www.zhihu.com/people/tediorelee-10/activities" data-animate-hover="pulse" class="zhihu" target="_blank">
                        <i class="fab fa-zhihu" title="zhihu"></i>
                        <span class="screen-reader-text">zhihu</span>
                    </a>
                </li>
            
        
            
        
            
        
            
        
    </ul>
    <div class="design-credit">
        <p>Powered by <a href="https://github.com/getgridea/gridea" target="_blank">Gridea</a> Published by <a href="https://tediorelee.cn">tediorelee</a> <a href="http://www.miitbeian.gov.cn">ËúÄICPÂ§á18031601Âè∑</a></p>
    </div>
</footer>
<script>
    hljs.initHighlightingOnLoad()
</script>
<script src="https://iidx.xyz/media/scripts/lib/jquery.min.js"></script>
<script src="https://iidx.xyz/media/scripts/lib/jquerymigrate.js"></script>
<script src="https://iidx.xyz/media/scripts/lib/production.min.js"></script>
</div>
</body>
</html>

